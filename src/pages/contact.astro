---
import Contactform from "@/components/contactform.astro";
import Container from "@/components/container.astro";
import Sectionhead from "@/components/sectionhead.astro";
import Layout from "@/layouts/Layout.astro";
import PageHero from "@/components/PageHero.astro";
import { Icon } from "astro-icon/components";
import { getEntry } from 'astro:content';

const contactData = await getEntry('contact', 'index');
---

<Layout title="Contact">
  <PageHero 
    page="contact" 
    title={contactData.data.heroTitle} 
    description={contactData.data.heroDescription}
  />
  <Container>
    <Sectionhead>
      <Fragment slot="title">{contactData.data.pageTitle}</Fragment>
      <Fragment slot="desc">{contactData.data.pageDescription}</Fragment>
    </Sectionhead>

    <div class="grid md:grid-cols-2 gap-10 mx-auto max-w-4xl mt-16">
      <div>
        <h2 class="font-medium text-2xl text-gray-800">{contactData.data.hospitalTitle}</h2>
        <p class="text-lg leading-relaxed text-slate-500 mt-3">
          {contactData.data.hospitalDescription}
        </p>
        
        <div class="mt-8">
          <h3 class="font-semibold text-lg text-gray-800 mb-4">{contactData.data.contactInfoTitle}</h3>
          <div class="space-y-3">
            <div class="flex items-start space-x-3 text-gray-600">
              <Icon class="text-gray-400 w-5 h-5 mt-0.5" name="uil:map-marker" />
              <div>
                <p class="font-medium">{contactData.data.hospitalName}</p>
                <p>{contactData.data.hospitalAddress.split('\n')[0]}</p>
                <p>{contactData.data.hospitalAddress.split('\n')[1]}</p>
              </div>
            </div>
            <div class="flex items-center space-x-3 text-gray-600">
              <Icon class="text-gray-400 w-5 h-5" name="uil:envelope" />
              <a href={`mailto:${contactData.data.contactEmail}`} class="hover:text-blue-600">
                {contactData.data.contactEmail}
              </a>
            </div>
            <div class="flex items-center space-x-3 text-gray-600">
              <Icon class="text-gray-400 w-5 h-5" name="uil:phone" />
              <a href={`tel:${contactData.data.contactPhone}`} class="hover:text-blue-600">
                {contactData.data.contactPhone}
              </a>
            </div>
          </div>
        </div>
        
        <div class="mt-8">
          <h3 class="font-semibold text-lg text-gray-800 mb-4">{contactData.data.operatingHoursTitle}</h3>
          <div class="space-y-2 text-gray-600">
            <div class="flex justify-between">
              <span>Lunes a Viernes:</span>
              <span>{contactData.data.mondayToFriday}</span>
            </div>
            <div class="flex justify-between">
              <span>SÃ¡bado:</span>
              <span>{contactData.data.saturdayHours}</span>
            </div>
            <div class="flex justify-between">
              <span>Domingo:</span>
              <span>{contactData.data.sundayHours}</span>
            </div>
            <div class="flex justify-between font-semibold text-red-600">
              <span>Emergencias:</span>
              <span>{contactData.data.emergencyHours}</span>
            </div>
          </div>
        </div>
        
        <div class="mt-8">
          <h3 class="font-semibold text-lg text-gray-800 mb-4">{contactData.data.locationTitle}</h3>
          <div class="rounded-lg overflow-hidden shadow-lg">
            <iframe
              src={contactData.data.mapEmbedUrl}
              width="100%"
              height="300"
              style="border:0;"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              title={contactData.data.mapTitle}
            ></iframe>
          </div>
        </div>
      </div>
      <div>
        <Contactform />
      </div>
    </div>
  </Container>
</Layout>
